@using JailTalk.Shared.Utilities;
@inject NavigationManager NavigationManager;

<MudCard Elevation="4" @onclick="@NavigateToRoute" Class="db">
    <MudCardContent>
        <MudPaper Elevation="0" Width="150px" Height="150px"
                  Square=true
                  Class="d-flex align-center justify-center shades transparent app-dashboard-item">
            <div class="d-flex flex-column justify-center align-content-center gap-4">
                <MudImage Src="@IconPath" Height="64" ObjectFit="ObjectFit.ScaleDown"/>
                <MudText Typo=Typo.body2 Align="Align.Center"><b>@Name</b></MudText>
            </div>
        </MudPaper>
    </MudCardContent>
</MudCard>
@code {

    [Parameter]
    public string Name { get; set; }

    [Parameter]
    public string Route { get; set; }

    [Parameter]
    public string IconPath { get; set; }

    public void NavigateToRoute()
    {
        if (string.IsNullOrEmpty(Route))
        {
            throw new AppException("Route cannot be empty");
        }

        NavigationManager.NavigateTo(Route);
    }
}
